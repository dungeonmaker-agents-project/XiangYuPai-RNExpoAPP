# Features æ¨¡å—å¿«é€Ÿç†è§£

## ğŸ“Œ æ ¸å¿ƒå®šä½
å‘å¨±æ‹ React Native App çš„**ä¸šåŠ¡åŠŸèƒ½æ¨¡å—é›†åˆ**ï¼ŒæŒ‰ä¸šåŠ¡é¢†åŸŸåˆ’åˆ†ä¸ºå…­å¤§æ ¸å¿ƒæ¨¡å—ã€‚

**æŠ€æœ¯æ ˆ**: React Native + Expo Router + TypeScript + Zustand

## ğŸ¯ æ¨¡å—æ€»è§ˆ

| æ¨¡å— | ç›®å½• | æ ¸å¿ƒåŠŸèƒ½ | åç«¯æœåŠ¡ |
|------|------|---------|---------|
| **AuthModule** | `AuthModule/` | ç”¨æˆ·è®¤è¯æˆæƒ | xypai-auth |
| **Homepage** | `Homepage/` | é¦–é¡µæµè§ˆç­›é€‰ | xypai-app-bff |
| **Discovery** | `Discovery/` | å†…å®¹åŠ¨æ€å‘ç° | xypai-content |
| **Messages** | `Messages/` | æ¶ˆæ¯é€šçŸ¥èŠå¤© | xypai-chat |
| **Profile** | `Profile/` | ä¸ªäººä¸­å¿ƒç®¡ç† | xypai-user |
| **Activity** | `Activity/` | ç»„å±€æ´»åŠ¨ç³»ç»Ÿ | xypai-order |

## ğŸ—ï¸ æ¨¡å—æ¶æ„

```
src/features/
â”œâ”€â”€ AuthModule/              # ğŸ” è®¤è¯æ¨¡å—
â”‚   â”œâ”€â”€ LoginMainPage/       # ç™»å½•é¡µé¢
â”‚   â”œâ”€â”€ ForgotPasswordPage/  # å¿˜è®°å¯†ç 
â”‚   â”œâ”€â”€ stores/              # è®¤è¯çŠ¶æ€ï¼ˆ4ä¸ªStoreï¼‰
â”‚   â””â”€â”€ hooks/               # è®¤è¯Hooks
â”‚
â”œâ”€â”€ Homepage/                # ğŸ  é¦–é¡µæ¨¡å—
â”‚   â”œâ”€â”€ MainPage/            # é¦–é¡µä¸»é¡µé¢
â”‚   â”œâ”€â”€ EventFlow/           # ç»„å±€ä¸­å¿ƒæµç¨‹
â”‚   â”œâ”€â”€ SearchFlow/          # æœç´¢æµç¨‹
â”‚   â”œâ”€â”€ FilterFlow/          # ç­›é€‰æµç¨‹
â”‚   â”œâ”€â”€ ServiceFlow/         # æœåŠ¡è¯¦æƒ…æµç¨‹
â”‚   â”œâ”€â”€ FeaturedFlow/        # é™æ—¶ä¸“äº«æµç¨‹
â”‚   â””â”€â”€ SharedComponents/    # å…±äº«ç»„ä»¶
â”‚
â”œâ”€â”€ Discovery/               # ğŸ” å‘ç°æ¨¡å—
â”‚   â”œâ”€â”€ MainPage/            # ä¸‰TabåŠ¨æ€æµ
â”‚   â”œâ”€â”€ DetailPage/          # åŠ¨æ€è¯¦æƒ…
â”‚   â””â”€â”€ TopicDetailPage/     # è¯é¢˜è¯¦æƒ…
â”‚
â”œâ”€â”€ Messages/                # ğŸ’¬ æ¶ˆæ¯æ¨¡å—
â”‚   â”œâ”€â”€ MainPage/            # æ¶ˆæ¯åˆ—è¡¨
â”‚   â”œâ”€â”€ ChatPage/            # ç§ä¿¡èŠå¤©
â”‚   â”œâ”€â”€ LikesPage/           # ç‚¹èµé€šçŸ¥
â”‚   â”œâ”€â”€ CommentsPage/        # è¯„è®ºé€šçŸ¥
â”‚   â””â”€â”€ stores/              # æ¶ˆæ¯çŠ¶æ€
â”‚
â”œâ”€â”€ Profile/                 # ğŸ‘¤ ä¸ªäººä¸­å¿ƒ
â”‚   â”œâ”€â”€ MainPage/            # å››Tabä¸ªäººä¸»é¡µ
â”‚   â”œâ”€â”€ ProfileEditPage/     # èµ„æ–™ç¼–è¾‘
â”‚   â”œâ”€â”€ MyOrdersPage/        # æˆ‘çš„è®¢å•
â”‚   â””â”€â”€ SettingsPage/        # ç³»ç»Ÿè®¾ç½®
â”‚
â””â”€â”€ Activity/                # ğŸ‰ æ´»åŠ¨æ¨¡å—
    â”œâ”€â”€ ActivityListPage/    # æ´»åŠ¨åˆ—è¡¨
    â”œâ”€â”€ ActivityDetailPage/  # æ´»åŠ¨è¯¦æƒ…
    â””â”€â”€ PublishActivityPage/ # å‘å¸ƒæ´»åŠ¨
```

## ğŸ“¡ API æœåŠ¡å±‚å¯¹æ¥

### æœåŠ¡æ˜ å°„

| å‰ç«¯æœåŠ¡ | åç«¯æœåŠ¡ | ç«¯å£ | è¯´æ˜ |
|---------|---------|------|------|
| `authApi.ts` | xypai-auth | 8200 | ç™»å½•/æ³¨å†Œ/Token |
| `bffApi.ts` | xypai-app-bff | 9400 | é¦–é¡µæ¨è/ç­›é€‰/é™æ—¶ä¸“äº« |
| `feedApi.ts` | xypai-content | 9403 | åŠ¨æ€/äº’åŠ¨/è¯é¢˜ |
| `commonApi.ts` | xypai-common | - | åª’ä½“ä¸Šä¼ /ä½ç½®æœåŠ¡ |
| `relationApi.ts` | xypai-user | 9401 | å…³æ³¨/ç²‰ä¸/æ‹‰é»‘ |
| `profileApi.ts` | xypai-user | 9401 | ä¸ªäººèµ„æ–™/è®¤è¯ |
| `activityApi.ts` | xypai-order | 9405 | æ´»åŠ¨/è®¢å• |

### å·²å¯¹æ¥æ¥å£æ¸…å•

**BFF èšåˆæœåŠ¡ (xypai-app-bff)**:
- âœ… é¦–é¡µç”¨æˆ·æ¨è `GET /api/home/feed`
- âœ… ç­›é€‰é…ç½® `GET /api/home/filter/config`
- âœ… åº”ç”¨ç­›é€‰ `POST /api/home/filter/apply`
- âœ… é™æ—¶ä¸“äº« `GET /api/home/limited-time/list`

**å†…å®¹æœåŠ¡ (xypai-content)**:
- âœ… åŠ¨æ€åˆ—è¡¨ `GET /api/v1/content/feed/{tabType}`
- âœ… åŠ¨æ€è¯¦æƒ… `GET /api/v1/content/detail/{feedId}`
- âœ… å‘å¸ƒåŠ¨æ€ `POST /api/v1/content/publish`
- âœ… ç‚¹èµ/æ”¶è— `POST /api/v1/interaction/*`
- âœ… çƒ­é—¨è¯é¢˜ `GET /api/v1/content/topics/hot`
- âœ… æœç´¢è¯é¢˜ `GET /api/v1/content/topics/search`

**é€šç”¨æœåŠ¡ (xypai-common)**:
- âœ… åª’ä½“ä¸Šä¼  `POST /api/v1/media/upload`
- âœ… é™„è¿‘åœ°ç‚¹ `GET /api/v1/location/nearby`
- âœ… æœç´¢åœ°ç‚¹ `GET /api/v1/location/search`

**ç”¨æˆ·æœåŠ¡ (xypai-user)**:
- âœ… å…³æ³¨/å–å…³ `POST/DELETE /api/user/relation/follow/{id}`
- âœ… æ‹‰é»‘/å–æ¶ˆ `POST/DELETE /api/user/relation/block/{id}`
- âœ… ä¸¾æŠ¥ç”¨æˆ· `POST /api/user/relation/report/{id}`

## ğŸ”‘ å¿«é€Ÿå¯¼å…¥

```typescript
// å¯¼å…¥æ¨¡å—é¡µé¢
import { MainPage } from '@/src/features/Homepage';
import { DiscoveryPage } from '@/src/features/Discovery';

// å¯¼å…¥APIæœåŠ¡
import { bffApi, feedApi, commonApi } from '@/services/api';

// å¯¼å…¥ç±»å‹
import type {
  BffUserCard,
  LimitedTimeUserCard,
  FeedItem,
} from '@/services/api';
```

## ğŸ“š æ¨¡å—è¯¦ç»†æ–‡æ¡£

| æ¨¡å— | æ–‡æ¡£è·¯å¾„ |
|------|---------|
| AuthModule | `src/features/AuthModule/å¿«é€Ÿç†è§£.md` |
| Homepage | `src/features/Homepage/å¿«é€Ÿç†è§£.md` |
| Discovery | `src/features/Discovery/å¿«é€Ÿç†è§£.md` |
| Messages | `src/features/Messages/å¿«é€Ÿç†è§£.md` |
| Profile | `src/features/Profile/å¿«é€Ÿç†è§£.md` |
| Activity | `src/features/Activity/å¿«é€Ÿç†è§£.md` |

## ğŸ“Œ å¼€å‘è§„èŒƒ

### æ¨¡å—å†…éƒ¨ç»“æ„
- **é¡µé¢ç»„ä»¶**ï¼š`{PageName}/index.ts` + `{PageName}.tsx`
- **åŒºåŸŸç»„ä»¶**ï¼šç›´æ¥æ”¾åœ¨é¡µé¢ç›®å½•ä¸‹ï¼Œä½¿ç”¨ `*Area` åç¼€
- **å…±äº«ç»„ä»¶**ï¼šæ¨¡å—å†…å…±ç”¨ç»„ä»¶æ”¾å…¥ `SharedComponents/`
- **ä¸šåŠ¡æµç¨‹**ï¼šå¤æ‚åŠŸèƒ½ä½¿ç”¨ `*Flow/` ç»„ç»‡

### çŠ¶æ€ç®¡ç†
- **å…¨å±€çŠ¶æ€**ï¼š`stores/` ç›®å½•ä½¿ç”¨ Zustand
- **é¡µé¢çŠ¶æ€**ï¼š`hooks/useXxxState.ts`
- **æ•°æ®è·å–**ï¼š`hooks/useXxxData.ts`
- **å¯¼èˆªé€»è¾‘**ï¼š`hooks/useXxxNavigation.ts`

### å…«æ®µå¼ä»£ç ç»“æ„
```typescript
// #region Banner - æ–‡ä»¶å¤´æ³¨é‡Š
// #region Imports - å¯¼å…¥å£°æ˜
// #region Types - ç±»å‹å®šä¹‰
// #region Constants - å¸¸é‡é…ç½®
// #region Utils - å·¥å…·å‡½æ•°
// #region State - çŠ¶æ€å®šä¹‰
// #region Logic - ä¸šåŠ¡é€»è¾‘
// #region UI - æ¸²æŸ“ç»„ä»¶
// #region Export - å¯¼å‡º
```

---

**æœ€åæ›´æ–°**ï¼š2025-11-28
**æ–‡æ¡£ç‰ˆæœ¬**ï¼šv1.1.0
