# GamePlayerListPage å¿«é€Ÿç†è§£

## ğŸ“Œ æ ¸å¿ƒå®šä½
ç‹è€…è£è€€ï¼ˆåŠå…¶ä»–æŠ€èƒ½ï¼‰é™ªç©ç”¨æˆ·åˆ—è¡¨é¡µé¢ï¼Œæ”¯æŒå¤šç»´åº¦ç­›é€‰ã€æ’åºå’Œå¿«æ·æ ‡ç­¾ï¼Œæ˜¯é¦–é¡µåŠŸèƒ½å…¥å£çš„æ ¸å¿ƒè½åœ°é¡µã€‚

**æŠ€æœ¯æ ˆ**: React Native + Expo Router + TypeScript + Zustand

## ğŸ¯ ä¸»è¦åŠŸèƒ½
- **é™ªç©åˆ—è¡¨å±•ç¤º**ï¼ˆå‚ç›´åˆ—è¡¨å¡ç‰‡å¸ƒå±€ï¼‰
- **å¤šç»´åº¦ç­›é€‰**ï¼ˆæ’åº/æ€§åˆ«/å¤§åŒº/æ®µä½/ä»·æ ¼/ä½ç½®/æ ‡ç­¾ï¼‰
- **å¿«æ·æ ‡ç­¾**ï¼ˆè£è€€ç‹è€…/å¸¦ç²‰ä¸Šåˆ†/ç”µç«é™ªç»ƒå¸ˆ/é™ªç©ï¼‰
- **æ— é™æ»šåŠ¨åŠ è½½**ï¼ˆåˆ†é¡µæ•°æ®ï¼‰
- **ä¸‹æ‹‰åˆ·æ–°**
- **ç‚¹å‡»è·³è½¬è¯¦æƒ…**

## ğŸ“ æ ¸å¿ƒç›®å½•ç»“æ„
```
GamePlayerListPage/
â”œâ”€â”€ index.tsx                 # ğŸ“± ä¸»é¡µé¢ç»„ä»¶ï¼ˆå•æ–‡ä»¶æ¶æ„ï¼‰
â”œâ”€â”€ types.ts                  # ç±»å‹å®šä¹‰
â”œâ”€â”€ constants.ts              # å¸¸é‡é…ç½®
â”œâ”€â”€ PlayerCardItem.tsx        # ç©å®¶å¡ç‰‡ç»„ä»¶ï¼ˆæ—§ç‰ˆï¼Œå·²åºŸå¼ƒï¼‰
â””â”€â”€ å¿«é€Ÿç†è§£.md                # æœ¬æ–‡æ¡£
```

## ğŸ—ºï¸ é¡µé¢å¯¼èˆªæµç¨‹

### é¡µé¢å…¥å£
| å…¥å£æ¥æº | æ¥æºé¡µé¢ | è§¦å‘æ“ä½œ | è·¯ç”±å‚æ•° |
|----------|----------|----------|----------|
| æ¸¸æˆæ¨ªå¹… | é¦–é¡µ MainPage | ç‚¹å‡»æ¨ªå¹… | `skillType='ç‹è€…è£è€€'` |
| åŠŸèƒ½ç½‘æ ¼ | é¦–é¡µ FunctionGridArea | ç‚¹å‡»åŠŸèƒ½å›¾æ ‡ | `skillType='ç‹è€…è£è€€'/'è‹±é›„è”ç›Ÿ'/...` |

### é¡µé¢å‡ºå£
| è§¦å‘æ“ä½œ | ç›®æ ‡é¡µé¢ | è·¯ç”± |
|----------|----------|------|
| ç‚¹å‡»ç©å®¶å¡ç‰‡ | æœåŠ¡è¯¦æƒ…é¡µ | `/service/detail/[serviceId]` |
| ç‚¹å‡»è¿”å› | ä¸Šä¸€é¡µ | `router.back()` |

### å¯¼èˆªå›¾
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  é¦–é¡µ MainPage    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ ç‚¹å‡»æ¨ªå¹…/åŠŸèƒ½å›¾æ ‡
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  GamePlayerListPage          â”‚
â”‚  /(tabs)/homepage/game-player-list â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ ç‚¹å‡»ç©å®¶å¡ç‰‡
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ServiceDetailPage           â”‚
â”‚  /service/detail/[serviceId] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”‘ æ ¸å¿ƒæ¥å£

### BFF API è°ƒç”¨
| æ–¹æ³• | æ¥å£ | è¯´æ˜ |
|------|------|------|
| `bffApi.getServiceList()` | `GET /xypai-app-bff/api/service/list` | è·å–é™ªç©ç”¨æˆ·åˆ—è¡¨ |

### è¯·æ±‚å‚æ•°
```typescript
interface ServiceListQueryDTO {
  skillType: string;      // æŠ€èƒ½ç±»å‹ï¼š'ç‹è€…è£è€€'/'è‹±é›„è”ç›Ÿ'/...
  tabType?: string;       // Tabç±»å‹ï¼š'glory_king'/'online'
  sortBy?: string;        // æ’åºï¼š'smart'/'newest'/'recent'/'popular'/'price_asc'/'price_desc'
  pageNum?: number;       // é¡µç ï¼Œé»˜è®¤1
  pageSize?: number;      // æ¯é¡µæ•°é‡ï¼Œé»˜è®¤20
  filters?: {
    gender?: string;      // æ€§åˆ«ç­›é€‰ï¼š'all'/'male'/'female'
    status?: string;      // çŠ¶æ€ç­›é€‰ï¼š'all'/'online'
    gameArea?: string;    // å¤§åŒºï¼š'å¾®ä¿¡åŒº'/'QQåŒº'
    ranks?: string[];     // æ®µä½å¤šé€‰
    priceRange?: string[]; // ä»·æ ¼åŒºé—´å¤šé€‰
    positions?: string[]; // ä½ç½®å¤šé€‰
    tags?: string[];      // æ ‡ç­¾å¤šé€‰
  };
}
```

### å“åº”æ•°æ®ç»“æ„
```typescript
interface ServiceListResultVO {
  skillType: {
    type: string;
    label: string;
    icon?: string;
  };
  tabs: Array<{ value: string; label: string; count: number }>;
  filters: FilterConfigVO;
  list: ServiceCardVO[];
  total: number;
  hasMore: boolean;
}

interface ServiceCardVO {
  skillId: number;
  provider: {
    userId: number;
    nickname: string;
    avatar: string;
    gender: string;
    age: number;
    isOnline: boolean;
    isVerified: boolean;
  };
  skillInfo: {
    skillType: string;
    region?: string;
    level?: string;
  };
  tags: string[];
  price: {
    amount: number;
    unit: string;
    displayText: string;
  };
  stats: {
    orders: number;
    rating: number;
    reviewCount: number;
  };
}
```

## ğŸ›ï¸ ç»„ä»¶æ¶æ„

### é¡µé¢å†…ç»„ä»¶
```
GamePlayerListPage [L1]
â”œâ”€â”€ HeaderArea [L2] - é¡¶éƒ¨å¯¼èˆªï¼ˆè¿”å›+æ ‡é¢˜ï¼‰
â”œâ”€â”€ FilterBarArea [L2] - ç­›é€‰æ ï¼ˆæ’åº+æ€§åˆ«+ç­›é€‰æŒ‰é’®ï¼‰
â”œâ”€â”€ QuickTagsArea [L2] - å¿«æ·æ ‡ç­¾æ¨ªå‘æ»šåŠ¨
â”œâ”€â”€ PlayerListArea [L2] - FlatList ç©å®¶åˆ—è¡¨
â”‚   â””â”€â”€ PlayerCardItemInline [L3] - ç©å®¶å¡ç‰‡
â”œâ”€â”€ SortBottomSheet [L2] - æ’åºé€‰æ‹©åº•éƒ¨å¼¹çª—
â”œâ”€â”€ GenderBottomSheet [L2] - æ€§åˆ«é€‰æ‹©åº•éƒ¨å¼¹çª—
â””â”€â”€ FilterBottomSheet [L2] - é«˜çº§ç­›é€‰åº•éƒ¨å¼¹çª—
```

### æ•°æ®æµ
```
é¡µé¢æŒ‚è½½
    â†“
useEffect â†’ loadData(page=1)
    â†“
bffApi.getServiceList(params)
    â†“
setServiceList / setFilters / setTabs
    â†“
FlatList æ¸²æŸ“ PlayerCardItemInline
    â†“
ç”¨æˆ·äº¤äº’ â†’ ç­›é€‰/æ’åº/åŠ è½½æ›´å¤š â†’ é‡æ–°è°ƒç”¨ API
```

## ğŸ”§ çŠ¶æ€ç®¡ç†

### é¡µé¢çŠ¶æ€
| çŠ¶æ€ | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| `serviceList` | `PlayerCardData[]` | ç©å®¶åˆ—è¡¨æ•°æ® |
| `isLoading` | `boolean` | é¦–æ¬¡åŠ è½½çŠ¶æ€ |
| `isLoadingMore` | `boolean` | åŠ è½½æ›´å¤šçŠ¶æ€ |
| `isRefreshing` | `boolean` | ä¸‹æ‹‰åˆ·æ–°çŠ¶æ€ |
| `hasMore` | `boolean` | æ˜¯å¦æœ‰æ›´å¤šæ•°æ® |
| `currentPage` | `number` | å½“å‰é¡µç  |

### ç­›é€‰çŠ¶æ€
| çŠ¶æ€ | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| `sortBy` | `SortType` | å½“å‰æ’åºæ–¹å¼ |
| `genderFilter` | `GenderType` | æ€§åˆ«ç­›é€‰ |
| `activeQuickTag` | `string \| null` | é€‰ä¸­çš„å¿«æ·æ ‡ç­¾ |
| `advancedFilters` | `FilterState` | é«˜çº§ç­›é€‰æ¡ä»¶ |

### å¼¹çª—çŠ¶æ€
| çŠ¶æ€ | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| `showSortSheet` | `boolean` | æ’åºå¼¹çª—æ˜¾ç¤º |
| `showGenderSheet` | `boolean` | æ€§åˆ«å¼¹çª—æ˜¾ç¤º |
| `showFilterSheet` | `boolean` | ç­›é€‰å¼¹çª—æ˜¾ç¤º |

## ğŸ¨ UI å¸ƒå±€

### é¡µé¢æ•´ä½“å¸ƒå±€
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  HeaderArea [å›ºå®šé¡¶éƒ¨ 44px]              â”‚
â”‚  â† è¿”å›        ç‹è€…è£è€€                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  FilterBarArea [å›ºå®š 44px]               â”‚
â”‚  æ™ºèƒ½æ’åº â–¼   ä¸é™æ€§åˆ« â–¼    ç­›é€‰ â–¼       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  QuickTagsArea [å›ºå®š 48px, scroll-x]     â”‚
â”‚  [è£è€€ç‹è€…] [å¸¦ç²‰ä¸Šåˆ†] [ç”µç«é™ªç»ƒå¸ˆ] â†’    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  PlayerListArea [flex:1, scroll-y]       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  PlayerCardItemInline            â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” æ˜µç§°123  â™€19       â”‚    â”‚
â”‚  â”‚  â”‚  å¤´åƒ  â”‚ âœ“å®åè®¤è¯ ğŸ†å¤§ç¥    â”‚    â”‚
â”‚  â”‚  â”‚ 120Ã—160â”‚ ä¸»æ‰“é‡å…¶ä»–ä½ç½®...   â”‚    â”‚
â”‚  â”‚  â”‚        â”‚ å¾®ä¿¡åŒº è£è€€ç‹è€…     â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ 10é‡‘å¸/å±€  99å•|5.0åˆ†â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚  [æ›´å¤šç©å®¶å¡ç‰‡...]                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  LoadingMore / EndTip                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ç©å®¶å¡ç‰‡å¸ƒå±€
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PlayerCardItemInline                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚              â”‚  â”‚ R1: æ˜µç§°123           â™€ 19        â”‚ â”‚
â”‚ â”‚    Avatar    â”‚  â”‚ R2: âœ“å®åè®¤è¯  ğŸ†å¤§ç¥             â”‚ â”‚
â”‚ â”‚   120Ã—160    â”‚  â”‚ R3: ä¸»æ‰“é‡å…¶ä»–ä½ç½®éƒ½èƒ½è¡¥...       â”‚ â”‚
â”‚ â”‚   åœ†è§’8px    â”‚  â”‚ R4: [å¾®ä¿¡åŒº] [è£è€€ç‹è€…] [å·…å³°1800+]â”‚ â”‚
â”‚ â”‚              â”‚  â”‚ R5: 10é‡‘å¸/å±€        99å• | 5.0åˆ† â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  [å›ºå®š120px]              [flex:1]                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸš€ å¿«é€Ÿå¯åŠ¨

### å¯¼å…¥æ–¹å¼
```typescript
// è·¯ç”±é…ç½® (app/(tabs)/homepage/game-player-list.tsx)
import GamePlayerListPage from '@/src/features/Homepage/ServiceFlow/GamePlayerListPage';

export default function GamePlayerListScreen() {
  return <GamePlayerListPage />;
}
```

### è·¯ç”±å‚æ•°
```typescript
// è·³è½¬åˆ°è¯¥é¡µé¢
router.push({
  pathname: '/(tabs)/homepage/game-player-list',
  params: { skillType: 'ç‹è€…è£è€€' },
});
```

## ğŸ“Œ æ³¨æ„äº‹é¡¹

### æ•°æ®è½¬æ¢
- API è¿”å› `ServiceListItem` éœ€è½¬æ¢ä¸º `PlayerCardData` æ ¼å¼
- è½¬æ¢å‡½æ•° `transformServiceItemToCardData()` åŒ…å«é˜²å¾¡æ€§ç©ºå€¼å¤„ç†
- `stats.rating` é»˜è®¤å€¼ä¸º 5.0ï¼ˆé˜²æ­¢ `.toFixed()` æŠ¥é”™ï¼‰

### æ€§èƒ½ä¼˜åŒ–
- ä½¿ç”¨ `FlatList` è™šæ‹Ÿåˆ—è¡¨
- å›¾ç‰‡ä½¿ç”¨ `resizeMode="cover"` é¿å…é‡æ’
- ç­›é€‰æ¡ä»¶å˜åŒ–æ—¶é‡ç½®åˆ†é¡µ

### ç­›é€‰é…ç½®
- æ’åºé€‰é¡¹ï¼šæ™ºèƒ½æ’åº / æœ€æ–°å‘å¸ƒ / æœ€è¿‘æ´»è·ƒ / çƒ­é—¨æ¨è / ä»·æ ¼æœ€ä½ / ä»·æ ¼æœ€é«˜
- æ€§åˆ«é€‰é¡¹ï¼šä¸é™ / ç”· / å¥³
- é«˜çº§ç­›é€‰ï¼šçŠ¶æ€ / å¤§åŒº / æ®µä½ / ä»·æ ¼ / ä½ç½® / æ ‡ç­¾ / æ‰€åœ¨åœ°

---

**æœ€åæ›´æ–°**: 2025-12-05
