# Contentæ¨¡å—å‰åç«¯æ¥å£å¯¹æ¥æ–‡æ¡£

> æ›´æ–°æ—¥æœŸ: 2025-11-28
> çŠ¶æ€: âœ… å·²å®Œæˆå‰ç«¯APIæœåŠ¡å±‚å¯¹æ¥ï¼ˆå«BFFç”¨æˆ·æ¨èã€é™æ—¶ä¸“äº«ã€æœç´¢åŠŸèƒ½ã€ç»„å±€æ´»åŠ¨ã€æœåŠ¡åˆ—è¡¨/è¯¦æƒ…ã€è¯é¢˜ã€åª’ä½“ä¸Šä¼ ã€ä½ç½®æœåŠ¡ï¼‰

## ä¸€ã€æ¥å£æ€»è§ˆ

### 1. Feedæµç›¸å…³ (FeedController)

| åŠŸèƒ½ | æ–¹æ³• | å‰ç«¯è·¯å¾„ (Gateway) | åç«¯è·¯å¾„ | çŠ¶æ€ |
|------|------|-------------------|---------|------|
| è·å–åŠ¨æ€åˆ—è¡¨ | GET | `/xypai-content/api/v1/content/feed/{tabType}` | `/api/v1/content/feed/{tabType}` | âœ… |
| è·å–åŠ¨æ€è¯¦æƒ… | GET | `/xypai-content/api/v1/content/detail/{feedId}` | `/api/v1/content/detail/{feedId}` | âœ… |
| å‘å¸ƒåŠ¨æ€ | POST | `/xypai-content/api/v1/content/publish` | `/api/v1/content/publish` | âœ… |
| åˆ é™¤åŠ¨æ€ | DELETE | `/xypai-content/api/v1/content/{feedId}` | `/api/v1/content/{feedId}` | âœ… |

**tabType è¯´æ˜:**
- `follow` - å…³æ³¨çš„äººçš„åŠ¨æ€
- `hot` - çƒ­é—¨åŠ¨æ€
- `local` - åŒåŸåŠ¨æ€

### 2. äº’åŠ¨ç›¸å…³ (InteractionController)

| åŠŸèƒ½ | æ–¹æ³• | å‰ç«¯è·¯å¾„ (Gateway) | åç«¯è·¯å¾„ | çŠ¶æ€ |
|------|------|-------------------|---------|------|
| ç‚¹èµ/å–æ¶ˆç‚¹èµ | POST | `/xypai-content/api/v1/interaction/like` | `/api/v1/interaction/like` | âœ… |
| æ”¶è—/å–æ¶ˆæ”¶è— | POST | `/xypai-content/api/v1/interaction/collect` | `/api/v1/interaction/collect` | âœ… |
| åˆ†äº« | POST | `/xypai-content/api/v1/interaction/share` | `/api/v1/interaction/share` | âœ… |

**è¯·æ±‚ä½“æ ¼å¼:**
```json
{
  "targetType": "feed|comment",
  "targetId": "123",
  "action": "like|unlike|collect|uncollect"
}
```

**åˆ†äº«è¯·æ±‚ä½“:**
```json
{
  "targetType": "feed",
  "targetId": "123",
  "shareChannel": "wechat|moments|qq|qzone|weibo|copy_link"
}
```

### 3. è¯„è®ºç›¸å…³

| åŠŸèƒ½ | æ–¹æ³• | å‰ç«¯è·¯å¾„ (Gateway) | åç«¯è·¯å¾„ | çŠ¶æ€ |
|------|------|-------------------|---------|------|
| è·å–è¯„è®ºåˆ—è¡¨ | GET | `/xypai-content/api/v1/content/comments/{feedId}` | `/api/v1/content/comments/{feedId}` | âœ… |
| å‘å¸ƒè¯„è®º/å›å¤ | POST | `/xypai-content/api/v1/content/comment` | `/api/v1/content/comment` | âœ… |
| åˆ é™¤è¯„è®º | DELETE | `/xypai-content/api/v1/content/comment/{commentId}` | `/api/v1/content/comment/{commentId}` | âœ… |

**å‘å¸ƒè¯„è®ºè¯·æ±‚ä½“:**
```json
{
  "feedId": "123",
  "content": "è¯„è®ºå†…å®¹",
  "parentId": "456",          // å¯é€‰ï¼Œå›å¤æ—¶æä¾›
  "replyToUserId": "789"      // å¯é€‰ï¼Œå›å¤æ—¶æä¾›
}
```

### 4. è¯é¢˜ç›¸å…³ (TopicController) ğŸ†•

| åŠŸèƒ½ | æ–¹æ³• | å‰ç«¯è·¯å¾„ (Gateway) | åç«¯è·¯å¾„ | çŠ¶æ€ |
|------|------|-------------------|---------|------|
| è·å–çƒ­é—¨è¯é¢˜ | GET | `/xypai-content/api/v1/content/topics/hot` | `/api/v1/content/topics/hot` | âœ… å·²å¯¹æ¥ |
| æœç´¢è¯é¢˜ | GET | `/xypai-content/api/v1/content/topics/search` | `/api/v1/content/topics/search` | âœ… å·²å¯¹æ¥ |

**æŸ¥è¯¢å‚æ•°:**
```
GET /xypai-content/api/v1/content/topics/hot?page=1&pageSize=20
GET /xypai-content/api/v1/content/topics/search?keyword=æ¢åº—&page=1&pageSize=20
```

**åç«¯æµ‹è¯•æ–‡ä»¶å‚è€ƒ:** `Page02_PublishFeedTest.java`

### 5. é¦–é¡µç”¨æˆ·æ¨è (HomeFeedController - BFFå±‚)

| åŠŸèƒ½ | æ–¹æ³• | å‰ç«¯è·¯å¾„ (Gateway) | åç«¯è·¯å¾„ | çŠ¶æ€ |
|------|------|-------------------|---------|------|
| è·å–ç”¨æˆ·æ¨èåˆ—è¡¨ | GET | `/xypai-app-bff/api/home/feed` | `/api/home/feed` | âœ… å·²å¯¹æ¥ |
| è·å–ç­›é€‰é…ç½® | GET | `/xypai-app-bff/api/home/filter/config?type={online\|offline}` | `/api/home/filter/config` | âœ… å‰ç«¯å·²å®ç° |
| åº”ç”¨ç­›é€‰æ¡ä»¶ | POST | `/xypai-app-bff/api/home/filter/apply` | `/api/home/filter/apply` | âœ… å‰ç«¯å·²å®ç° |

**ç”¨æˆ·æ¨èåˆ—è¡¨æŸ¥è¯¢å‚æ•°:**
```
GET /xypai-app-bff/api/home/feed?type=online&pageNum=1&pageSize=10&cityCode=440300
```

| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| type | string | âœ… | æ¨èç±»å‹: `online`(çº¿ä¸Š) / `offline`(çº¿ä¸‹) |
| pageNum | number | âŒ | é¡µç ï¼Œé»˜è®¤1 |
| pageSize | number | âŒ | æ¯é¡µæ•°é‡ï¼Œé»˜è®¤10 |
| cityCode | string | âŒ | åŸå¸‚ä»£ç ï¼Œå¦‚440300(æ·±åœ³) |

**åç«¯æµ‹è¯•æ–‡ä»¶å‚è€ƒ:** `AppHomeFeedTest.java`, `Page02_FilterTest.java`

### 6. é™æ—¶ä¸“äº« (LimitedTimeController - BFFå±‚) ğŸ†•

| åŠŸèƒ½ | æ–¹æ³• | å‰ç«¯è·¯å¾„ (Gateway) | åç«¯è·¯å¾„ | çŠ¶æ€ |
|------|------|-------------------|---------|------|
| è·å–é™æ—¶ä¸“äº«åˆ—è¡¨ | GET | `/xypai-app-bff/api/home/limited-time/list` | `/api/home/limited-time/list` | âœ… å·²å¯¹æ¥ |

**æŸ¥è¯¢å‚æ•°:**
```
GET /xypai-app-bff/api/home/limited-time/list?pageNum=1&pageSize=10&sortBy=smart&gender=all&language=æ™®é€šè¯
```

| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| pageNum | number | âŒ | é¡µç ï¼Œé»˜è®¤1 |
| pageSize | number | âŒ | æ¯é¡µæ•°é‡ï¼Œé»˜è®¤10 |
| sortBy | string | âŒ | æ’åºæ–¹å¼: `smart`(æ™ºèƒ½æ¨è) / `price_asc`(ä»·æ ¼ä»ä½åˆ°é«˜) / `price_desc`(ä»·æ ¼ä»é«˜åˆ°ä½) / `distance_asc`(è·ç¦»æœ€è¿‘)ï¼Œé»˜è®¤smart |
| gender | string | âŒ | æ€§åˆ«ç­›é€‰: `all`(ä¸é™) / `male`(ç”·) / `female`(å¥³)ï¼Œé»˜è®¤all |
| language | string | âŒ | è¯­è¨€ç­›é€‰ï¼Œå¦‚"æ™®é€šè¯"ã€"ç²¤è¯­" |

**å“åº”ç»“æ„:**
```typescript
interface LimitedTimeResponse {
  list: LimitedTimeUserCard[];  // ç”¨æˆ·åˆ—è¡¨
  total: number;                 // æ€»æ•°
  hasMore: boolean;              // æ˜¯å¦æœ‰æ›´å¤š
  filters: {                     // ç­›é€‰é…ç½®
    sortOptions: FilterOption[];
    genderOptions: FilterOption[];
    languageOptions: FilterOption[];
  };
}

interface LimitedTimeUserCard {
  userId: number;
  nickname: string;
  avatar: string;
  gender: 'male' | 'female';
  age?: number;
  promotionTag?: string;        // ä¿ƒé”€æ ‡ç­¾ï¼ˆå¦‚ï¼šé™æ—¶ä¸“äº«ï¼‰
  distance: number;             // è·ç¦»ï¼ˆç±³ï¼‰
  distanceText: string;         // è·ç¦»æ–‡æœ¬ï¼ˆå¦‚ï¼š1.0kmï¼‰
  price: {
    amount: number;             // é‡‘å¸æ•°é‡
    displayText: string;        // æ˜¾ç¤ºæ–‡æœ¬ï¼ˆå¦‚ï¼š100é‡‘å¸/å°æ—¶ï¼‰
    originalPrice: number;      // åŸä»·
    discountRate?: number;      // æŠ˜æ‰£æ¯”ä¾‹ï¼ˆ0-1ï¼‰
  };
  serviceTags?: string[];       // æœåŠ¡æ ‡ç­¾
  languageTag?: string;         // è¯­è¨€æ ‡ç­¾
  rating?: number;              // è¯„åˆ†
  orderCount?: number;          // æ¥å•æ•°
  isOnline?: boolean;           // æ˜¯å¦åœ¨çº¿
  isVerified?: boolean;         // æ˜¯å¦è®¤è¯
}
```

**åç«¯æµ‹è¯•æ–‡ä»¶å‚è€ƒ:** `Page05_LimitedTimeTest.java`

### 7. æœç´¢é¡µé¢ (SearchController - BFFå±‚) ğŸ†•

| åŠŸèƒ½ | æ–¹æ³• | å‰ç«¯è·¯å¾„ (Gateway) | åç«¯è·¯å¾„ | çŠ¶æ€ |
|------|------|-------------------|---------|------|
| è·å–æœç´¢åˆå§‹æ•°æ® | GET | `/xypai-app-bff/api/search/init` | `/api/search/init` | âœ… å·²å¯¹æ¥ |
| è·å–æœç´¢å»ºè®® | GET | `/xypai-app-bff/api/search/suggest` | `/api/search/suggest` | âœ… å·²å¯¹æ¥ |
| åˆ é™¤æœç´¢å†å² | DELETE | `/xypai-app-bff/api/search/history` | `/api/search/history` | âœ… å·²å¯¹æ¥ |

**æœç´¢åˆå§‹æ•°æ® (GET /api/search/init):**
```typescript
// å“åº”æ•°æ®
interface SearchInitResponse {
  searchHistory: Array<{ keyword: string; searchTime: string; type?: string }>;
  hotKeywords: Array<{ keyword: string; rank?: number; isHot?: boolean }>;
  placeholder: string;
}
```

**æœç´¢å»ºè®® (GET /api/search/suggest):**
```
GET /xypai-app-bff/api/search/suggest?keyword=ç‹è€…&limit=10
```

**åç«¯æµ‹è¯•æ–‡ä»¶å‚è€ƒ:** `Page06_SearchTest.java`

### 8. æœç´¢ç»“æœ (SearchController - BFFå±‚) ğŸ†•

| åŠŸèƒ½ | æ–¹æ³• | å‰ç«¯è·¯å¾„ (Gateway) | åç«¯è·¯å¾„ | çŠ¶æ€ |
|------|------|-------------------|---------|------|
| æ‰§è¡Œç»¼åˆæœç´¢ | POST | `/xypai-app-bff/api/search/search` | `/api/search/search` | âœ… å·²å¯¹æ¥ |
| è·å–å…¨éƒ¨Tabç»“æœ | GET | `/xypai-app-bff/api/search/all` | `/api/search/all` | âœ… å·²å¯¹æ¥ |
| è·å–ç”¨æˆ·Tabç»“æœ | GET | `/xypai-app-bff/api/search/users` | `/api/search/users` | âœ… å·²å¯¹æ¥ |
| è·å–ä¸‹å•Tabç»“æœ | GET | `/xypai-app-bff/api/search/orders` | `/api/search/orders` | âœ… å·²å¯¹æ¥ |
| è·å–è¯é¢˜Tabç»“æœ | GET | `/xypai-app-bff/api/search/topics` | `/api/search/topics` | âœ… å·²å¯¹æ¥ |

**ç»¼åˆæœç´¢è¯·æ±‚ (POST /api/search/search):**
```typescript
interface SearchParams {
  keyword: string;                          // æœç´¢å…³é”®è¯
  type: 'all' | 'user' | 'order' | 'topic'; // æœç´¢ç±»å‹
  pageNum?: number;                         // é¡µç 
  pageSize?: number;                        // æ¯é¡µæ•°é‡
  filters?: {                               // ç­›é€‰æ¡ä»¶
    cityCode?: string;
    gender?: 'all' | 'male' | 'female';
    sortBy?: string;
  };
}
```

**åˆ†TabæŸ¥è¯¢å‚æ•°:**
```
GET /xypai-app-bff/api/search/all?keyword=ç‹è€…&pageNum=1&pageSize=10
GET /xypai-app-bff/api/search/users?keyword=æ¸¸æˆ&pageNum=1&pageSize=10
GET /xypai-app-bff/api/search/orders?keyword=é™ªç»ƒ&pageNum=1&pageSize=10
GET /xypai-app-bff/api/search/topics?keyword=æ¸¸æˆ&pageNum=1&pageSize=10
```

**å“åº”ç»“æ„:**
```typescript
// ç»¼åˆæœç´¢å“åº”
interface SearchResponse {
  keyword: string;
  total: number;
  hasMore: boolean;
  tabs: Array<{ type: string; label: string; count: number }>;
  results: any;
}

// åˆ†Tabå“åº”
interface SearchTabResponse<T> {
  list: T[];
  total: number;
  hasMore: boolean;
}
```

**åç«¯æµ‹è¯•æ–‡ä»¶å‚è€ƒ:** `Page07_SearchResultsTest.java`

### 9. é€šç”¨æœåŠ¡ (xypai-common) ğŸ†•

| åŠŸèƒ½ | æ–¹æ³• | å‰ç«¯è·¯å¾„ (Gateway) | åç«¯è·¯å¾„ | çŠ¶æ€ |
|------|------|-------------------|---------|------|
| ä¸Šä¼ åª’ä½“æ–‡ä»¶ | POST | `/xypai-common/api/v1/media/upload` | `/api/v1/media/upload` | âœ… å·²å¯¹æ¥ |
| è·å–é™„è¿‘åœ°ç‚¹ | GET | `/xypai-common/api/v1/location/nearby` | `/api/v1/location/nearby` | âœ… å·²å¯¹æ¥ |
| æœç´¢åœ°ç‚¹ | GET | `/xypai-common/api/v1/location/search` | `/api/v1/location/search` | âœ… å·²å¯¹æ¥ |

**åª’ä½“ä¸Šä¼  FormData:**
```typescript
{
  file: File,           // æ–‡ä»¶å¯¹è±¡
  type: 'image'|'video', // åª’ä½“ç±»å‹
  quality?: number,     // å‹ç¼©è´¨é‡(å›¾ç‰‡)ï¼Œ0-1
  maxWidth?: number,    // æœ€å¤§å®½åº¦(å›¾ç‰‡)
  maxHeight?: number    // æœ€å¤§é«˜åº¦(å›¾ç‰‡)
}
```

**ä½ç½®æŸ¥è¯¢å‚æ•°:**
```
GET /xypai-common/api/v1/location/nearby?latitude=22.5189&longitude=113.9577&radius=5
GET /xypai-common/api/v1/location/search?keyword=æ·±åœ³æ¹¾&page=1&pageSize=20
```

**åç«¯æµ‹è¯•æ–‡ä»¶å‚è€ƒ:** `Page02_PublishFeedTest.java`

### 10. ç”¨æˆ·å…³ç³» (RelationController)

| åŠŸèƒ½ | æ–¹æ³• | å‰ç«¯è·¯å¾„ (Gateway) | åç«¯è·¯å¾„ | çŠ¶æ€ |
|------|------|-------------------|---------|------|
| å…³æ³¨ç”¨æˆ· | POST | `/xypai-user/api/user/relation/follow/{followingId}` | `/api/user/relation/follow/{followingId}` | âœ… |
| å–æ¶ˆå…³æ³¨ | DELETE | `/xypai-user/api/user/relation/follow/{followingId}` | `/api/user/relation/follow/{followingId}` | âœ… |
| è·å–å…³æ³¨åˆ—è¡¨ | GET | `/xypai-user/api/user/relation/following` | `/api/user/relation/following` | âœ… |
| è·å–ç²‰ä¸åˆ—è¡¨ | GET | `/xypai-user/api/user/relation/fans` | `/api/user/relation/fans` | âœ… |
| æ‹‰é»‘ç”¨æˆ· | POST | `/xypai-user/api/user/relation/block/{blockedUserId}` | `/api/user/relation/block/{blockedUserId}` | âœ… |
| å–æ¶ˆæ‹‰é»‘ | DELETE | `/xypai-user/api/user/relation/block/{blockedUserId}` | `/api/user/relation/block/{blockedUserId}` | âœ… |
| ä¸¾æŠ¥ç”¨æˆ· | POST | `/xypai-user/api/user/relation/report/{reportedUserId}` | `/api/user/relation/report/{reportedUserId}` | âœ… |

### 11. ç»„å±€ä¸­å¿ƒåˆ—è¡¨ (ActivityController - BFFå±‚) ğŸ†•

| åŠŸèƒ½ | æ–¹æ³• | å‰ç«¯è·¯å¾„ (Gateway) | åç«¯è·¯å¾„ | çŠ¶æ€ |
|------|------|-------------------|---------|------|
| è·å–æ´»åŠ¨åˆ—è¡¨ | GET | `/xypai-app-bff/api/activity/list` | `/api/activity/list` | âœ… å·²å¯¹æ¥ |

**æŸ¥è¯¢å‚æ•°:**
```
GET /xypai-app-bff/api/activity/list?pageNum=1&pageSize=10&sortBy=smart_recommend&gender=all&memberCount=2-4&activityType=billiards
```

| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| pageNum | number | âŒ | é¡µç ï¼Œé»˜è®¤1 |
| pageSize | number | âŒ | æ¯é¡µæ•°é‡ï¼Œé»˜è®¤10 |
| sortBy | string | âŒ | æ’åºæ–¹å¼: `smart_recommend`(æ™ºèƒ½æ¨è) / `newest`(æœ€æ–°å‘å¸ƒ) / `distance`(è·ç¦»æœ€è¿‘)ï¼Œé»˜è®¤smart_recommend |
| gender | string | âŒ | æ€§åˆ«ç­›é€‰: `all`(ä¸é™) / `male`(ç”·) / `female`(å¥³)ï¼Œé»˜è®¤all |
| memberCount | string | âŒ | äººæ•°ç­›é€‰ï¼Œå¦‚"2-4"ã€"5-8"ã€"9-20" |
| activityType | string | âŒ | æ´»åŠ¨ç±»å‹ï¼Œå¦‚"billiards"ã€"ktv"ã€"dinner" |
| cityCode | string | âŒ | åŸå¸‚ä»£ç ï¼Œå¦‚440300(æ·±åœ³) |
| districtCode | string | âŒ | åŒºåŸŸä»£ç  |

**å“åº”ç»“æ„:**
```typescript
interface ActivityListResponse {
  list: ActivityListItem[];    // æ´»åŠ¨åˆ—è¡¨
  total: number;               // æ€»æ•°
  hasMore: boolean;            // æ˜¯å¦æœ‰æ›´å¤š
  filters: ActivityListFilters; // ç­›é€‰é…ç½®
}

interface ActivityListItem {
  activityId: number;
  organizer: {
    userId: number;
    avatar: string;
    nickname: string;
    isVerified?: boolean;
    tags?: string[];
  };
  title?: string;
  activityType: { type: string; label: string; icon: string };
  tags: Array<{ text: string; type: string; color?: string }>;
  price: { amount: number; unit: string; displayText: string };
  schedule: { startTime: string; endTime?: string; displayText: string };
  location: { address: string; district?: string; city?: string };
  participants: { registered: number; limit: number; displayText: string };
  status: 'open' | 'full' | 'closed' | 'cancelled';
}
```

**åç«¯æµ‹è¯•æ–‡ä»¶å‚è€ƒ:** `Page08_ActivityListTest.java`

### 12. ç»„å±€è¯¦æƒ… (ActivityController - BFFå±‚) ğŸ†•

| åŠŸèƒ½ | æ–¹æ³• | å‰ç«¯è·¯å¾„ (Gateway) | åç«¯è·¯å¾„ | çŠ¶æ€ |
|------|------|-------------------|---------|------|
| è·å–æ´»åŠ¨è¯¦æƒ… | GET | `/xypai-app-bff/api/activity/detail/{activityId}` | `/api/activity/detail/{activityId}` | âœ… å·²å¯¹æ¥ |
| æŠ¥åå‚åŠ æ´»åŠ¨ | POST | `/xypai-app-bff/api/activity/register` | `/api/activity/register` | âœ… å·²å¯¹æ¥ |
| å–æ¶ˆæŠ¥å | POST | `/xypai-app-bff/api/activity/register/cancel` | `/api/activity/register/cancel` | âœ… å·²å¯¹æ¥ |

**æ´»åŠ¨è¯¦æƒ…å“åº”ï¼ˆæ‰å¹³åŒ–ç»“æ„ï¼‰:**
```typescript
interface ActivityDetail {
  activityId: number;
  status: 'open' | 'full' | 'closed' | 'cancelled';
  organizer: ActivityOrganizer;
  activityType: string;
  activityTypeName: string;
  title?: string;
  description: string;
  images?: string[];
  bannerImage?: string;
  // æ—¶é—´ä¿¡æ¯ï¼ˆæ‰å¹³åŒ–ï¼‰
  startTime: string;
  endTime?: string;
  timeDisplay: string;
  // åœ°ç‚¹ä¿¡æ¯ï¼ˆæ‰å¹³åŒ–ï¼‰
  locationName?: string;
  locationAddress: string;
  city?: string;
  district?: string;
  latitude?: number;
  longitude?: number;
  // è´¹ç”¨ä¿¡æ¯ï¼ˆæ‰å¹³åŒ–ï¼‰
  isPaid: boolean;
  fee?: number;
  feeDisplay: string;
  // äººæ•°ä¿¡æ¯ï¼ˆæ‰å¹³åŒ–ï¼‰
  currentMembers: number;
  maxMembers: number;
  membersDisplay: string;
  pendingCount?: number;
  // å‚ä¸è€…åˆ—è¡¨
  participants: ActivityParticipant[];
  // æŠ¥åæˆªæ­¢
  registrationDeadline?: string;
  registrationDeadlineDisplay?: string;
  // ç”¨æˆ·çŠ¶æ€ï¼ˆæ‰å¹³åŒ–ï¼‰
  isOrganizer: boolean;
  currentUserStatus?: string;
  canRegister: boolean;
  cannotRegisterReason?: string;
  canCancel?: boolean;
}
```

**æŠ¥åè¯·æ±‚ä½“:**
```json
{
  "activityId": 12345,
  "message": "æˆ‘æƒ³å‚åŠ è¿™ä¸ªæ´»åŠ¨ï¼"
}
```

**æŠ¥åå“åº”:**
```typescript
interface ActivityRegisterResponse {
  success: boolean;
  status: 'pending' | 'approved';
  statusMessage: string;
  registrationId?: number;
  needPay: boolean;
  payAmount?: number;
  currentMembers?: number;
  maxMembers?: number;
}
```

**å–æ¶ˆæŠ¥åè¯·æ±‚ä½“:**
```json
{
  "activityId": 12345,
  "registrationId": 67890
}
```

**åç«¯æµ‹è¯•æ–‡ä»¶å‚è€ƒ:** `Page09_ActivityDetailTest.java`

### 13. å‘å¸ƒç»„å±€ (ActivityPublishController - BFFå±‚) ğŸ†•

| åŠŸèƒ½ | æ–¹æ³• | å‰ç«¯è·¯å¾„ (Gateway) | åç«¯è·¯å¾„ | çŠ¶æ€ |
|------|------|-------------------|---------|------|
| è·å–å‘å¸ƒé…ç½® | GET | `/xypai-app-bff/api/activity/publish/config` | `/api/activity/publish/config` | âœ… å·²å¯¹æ¥ |
| å‘å¸ƒæ´»åŠ¨ | POST | `/xypai-app-bff/api/activity/publish` | `/api/activity/publish` | âœ… å·²å¯¹æ¥ |
| æ”¯ä»˜å¹³å°è´¹ | POST | `/xypai-app-bff/api/activity/publish/pay` | `/api/activity/publish/pay` | âœ… å·²å¯¹æ¥ |

**è·å–å‘å¸ƒé…ç½®å“åº”:**
```typescript
interface ActivityPublishConfigResponse {
  activityTypes: Array<{value: string; label: string; icon: string}>;
  priceUnit: {
    options: Array<{value: string; label: string}>;
  };
  memberCountOptions: Array<{value: number; label: string}>;
  platformFee: {rate: number; description: string};
  depositRules: {depositAmount: number; description: string};
}
```

**å‘å¸ƒæ´»åŠ¨è¯·æ±‚ä½“:**
```typescript
interface ActivityPublishRequest {
  activityType: string;           // æ´»åŠ¨ç±»å‹
  title: string;                  // æ´»åŠ¨æ ‡é¢˜
  content: string;                // æ´»åŠ¨æè¿°
  images?: string[];              // æ´»åŠ¨å›¾ç‰‡åˆ—è¡¨
  schedule: {                     // æ—¶é—´ä¿¡æ¯
    startTime: string;
    endTime?: string;
  };
  location: {                     // åœ°ç‚¹ä¿¡æ¯
    address: string;
    coordinates?: {latitude: number; longitude: number};
  };
  price: {                        // ä»·æ ¼ä¿¡æ¯
    amount: number;
    unit: 'per_person' | 'per_hour' | 'total';
  };
  memberLimit: number;            // äººæ•°ä¸Šé™
  registrationDeadline: string;   // æŠ¥åæˆªæ­¢æ—¶é—´
}
```

**å‘å¸ƒæ´»åŠ¨å“åº”:**
```typescript
interface ActivityPublishResponse {
  activityId: number;             // æ´»åŠ¨ID
  needPayment: boolean;           // æ˜¯å¦éœ€è¦æ”¯ä»˜
  paymentInfo?: {                 // æ”¯ä»˜ä¿¡æ¯ï¼ˆneedPaymentä¸ºtrueæ—¶è¿”å›ï¼‰
    amount: number;
    platformFee: number;
    deposit: number;
  };
}
```

**æ”¯ä»˜å¹³å°è´¹è¯·æ±‚ä½“:**
```typescript
interface ActivityPublishPayRequest {
  activityId: number;             // æ´»åŠ¨ID
  paymentMethod: 'wechat' | 'alipay' | 'balance';  // æ”¯ä»˜æ–¹å¼
  amount: number;                 // æ”¯ä»˜é‡‘é¢
}
```

**æ”¯ä»˜å¹³å°è´¹å“åº”:**
```typescript
interface ActivityPublishPayResponse {
  success: boolean;               // æ˜¯å¦æˆåŠŸ
  orderId?: string;               // æ”¯ä»˜è®¢å•å·
  paymentStatus: 'pending' | 'success' | 'failed';  // æ”¯ä»˜çŠ¶æ€
  message?: string;               // æç¤ºä¿¡æ¯
}
```

**åç«¯æµ‹è¯•æ–‡ä»¶å‚è€ƒ:** `Page10_PublishActivityTest.java`

### 14. æœåŠ¡åˆ—è¡¨ (ServiceController - BFFå±‚) ğŸ†•

| åŠŸèƒ½ | æ–¹æ³• | å‰ç«¯è·¯å¾„ (Gateway) | åç«¯è·¯å¾„ | çŠ¶æ€ |
|------|------|-------------------|---------|------|
| è·å–æœåŠ¡åˆ—è¡¨ | GET | `/xypai-app-bff/api/service/list` | `/api/service/list` | âœ… å·²å¯¹æ¥ |

**æŸ¥è¯¢å‚æ•°:**
```
GET /xypai-app-bff/api/service/list?skillType=ç‹è€…è£è€€&pageNum=1&pageSize=10&tabType=glory_king&sortBy=rating_desc&gender=female
```

| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| skillType | string | âœ… | æŠ€èƒ½ç±»å‹ï¼Œå¦‚"ç‹è€…è£è€€"ã€"å°çƒ" |
| pageNum | number | âŒ | é¡µç ï¼Œé»˜è®¤1 |
| pageSize | number | âŒ | æ¯é¡µæ•°é‡ï¼Œé»˜è®¤10 |
| tabType | string | âŒ | Tabç±»å‹: `glory_king`(è£è€€ç‹è€…) / `online`(çº¿ä¸Š) / `offline`(çº¿ä¸‹) / `my`(æˆ‘çš„) |
| sortBy | string | âŒ | æ’åºæ–¹å¼: `smart`(æ™ºèƒ½æ¨è) / `price_asc`(ä»·æ ¼å‡åº) / `price_desc`(ä»·æ ¼é™åº) / `rating_desc`(è¯„åˆ†æœ€é«˜) / `orders_desc`(æ¥å•æœ€å¤š) |
| gender | string | âŒ | æ€§åˆ«ç­›é€‰: `all`(ä¸é™) / `male`(ç”·) / `female`(å¥³) |

**å“åº”ç»“æ„:**
```typescript
interface ServiceListResponse {
  skillType: string;              // æŠ€èƒ½ç±»å‹
  tabs: ServiceTabOption[];       // Tabåˆ—è¡¨
  filters: ServiceListFilters;    // ç­›é€‰é…ç½®
  list: ServiceListItem[];        // æœåŠ¡åˆ—è¡¨
  total: number;                  // æ€»æ•°
  hasMore: boolean;               // æ˜¯å¦æœ‰æ›´å¤š
}

interface ServiceListItem {
  serviceId: number;
  provider: {
    userId: number;
    nickname: string;
    avatar: string;
    gender: 'male' | 'female';
    age?: number;
    isOnline: boolean;
    isVerified?: boolean;
    tags?: string[];
  };
  skillInfo: {
    skillType: string;
    skillLabel: string;
    level?: string;
    region?: string;
  };
  price: {
    amount: number;
    unit: string;
    displayText: string;
  };
  stats: {
    orders: number;
    rating: number;
    reviewCount: number;
  };
  tags?: string[];
  description?: string;
}
```

**åç«¯æµ‹è¯•æ–‡ä»¶å‚è€ƒ:** `Page11_ServiceListTest.java`

### 15. æœåŠ¡è¯¦æƒ… (ServiceController - BFFå±‚) ğŸ†•

| åŠŸèƒ½ | æ–¹æ³• | å‰ç«¯è·¯å¾„ (Gateway) | åç«¯è·¯å¾„ | çŠ¶æ€ |
|------|------|-------------------|---------|------|
| è·å–æœåŠ¡è¯¦æƒ… | GET | `/xypai-app-bff/api/service/detail` | `/api/service/detail` | âœ… å·²å¯¹æ¥ |
| è·å–æœåŠ¡è¯„ä»·åˆ—è¡¨ | GET | `/xypai-app-bff/api/service/reviews` | `/api/service/reviews` | âœ… å·²å¯¹æ¥ |

**æœåŠ¡è¯¦æƒ…æŸ¥è¯¢å‚æ•°:**
```
GET /xypai-app-bff/api/service/detail?serviceId=1001&userId=123
```

| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| serviceId | number | âœ… | æœåŠ¡ID |
| userId | string | âŒ | ç”¨æˆ·IDï¼ˆç”¨äºåˆ¤æ–­æ”¶è—çŠ¶æ€ç­‰ï¼‰ |

**æœåŠ¡è¯¦æƒ…å“åº”:**
```typescript
interface ServiceDetailResponse {
  serviceId: number;
  provider: ServiceProvider;
  skillInfo: ServiceSkillInfo;
  price: ServicePriceInfo;
  stats: ServiceStatsInfo;
  reviews: {
    total: number;
    summary: { averageRating: number; totalCount: number };
    tags: Array<{ tag: string; count: number }>;
    recent: ServiceReviewItem[];
  };
  description?: string;
  images?: string[];
  workingHours?: string;
  canBook: boolean;
  cannotBookReason?: string;
}
```

**æœåŠ¡è¯„ä»·åˆ—è¡¨æŸ¥è¯¢å‚æ•°:**
```
GET /xypai-app-bff/api/service/reviews?serviceId=1001&pageNum=1&pageSize=10&filterBy=excellent
```

| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| serviceId | number | âœ… | æœåŠ¡ID |
| pageNum | number | âŒ | é¡µç ï¼Œé»˜è®¤1 |
| pageSize | number | âŒ | æ¯é¡µæ•°é‡ï¼Œé»˜è®¤10 |
| filterBy | string | âŒ | ç­›é€‰ç±»å‹: `all`(å…¨éƒ¨) / `excellent`(å¥½è¯„) / `good`(ä¸­è¯„) / `negative`(å·®è¯„) / `with_images`(æœ‰å›¾) |

**æœåŠ¡è¯„ä»·åˆ—è¡¨å“åº”:**
```typescript
interface ServiceReviewsResponse {
  list: ServiceReviewItem[];
  total: number;
  hasNext: boolean;
}

interface ServiceReviewItem {
  reviewId: number;
  userId: number;
  nickname: string;
  avatar: string;
  rating: number;
  content: string;
  images?: string[];
  createTime: string;
  reply?: {
    content: string;
    createTime: string;
  };
}
```

**åç«¯æµ‹è¯•æ–‡ä»¶å‚è€ƒ:** `Page12_ServiceDetailTest.java`

---

## äºŒã€å‰ç«¯APIæœåŠ¡æ–‡ä»¶

### å·²åˆ›å»º/æ›´æ–°çš„æ–‡ä»¶

| æ–‡ä»¶ | æè¿° | çŠ¶æ€ |
|------|------|------|
| `services/api/feedApi.ts` | Feedæµã€äº’åŠ¨ã€è¯„è®ºã€è¯é¢˜API | âœ… æ›´æ–° |
| `services/api/bffApi.ts` | BFFé¦–é¡µç”¨æˆ·æ¨èAPI | âœ… æ–°å»º |
| `services/api/commonApi.ts` | åª’ä½“ä¸Šä¼ ã€ä½ç½®æœåŠ¡API | âœ… æ–°å»º ğŸ†• |
| `services/api/filterApi.ts` | é¦–é¡µç­›é€‰API | âœ… æ–°å»º |
| `services/api/relationApi.ts` | ç”¨æˆ·å…³ç³»API | âœ… æ–°å»º |
| `services/api/config.ts` | APIç«¯ç‚¹é…ç½® | âœ… æ›´æ–° |
| `services/api/index.ts` | APIå¯¼å‡º | âœ… æ›´æ–° |
| `src/features/Homepage/MainPage/useHomeData.ts` | é¦–é¡µæ•°æ®Hook | âœ… æ›´æ–° |

### APIæœåŠ¡ä½¿ç”¨ç¤ºä¾‹

```typescript
// 1. è·å–Feedåˆ—è¡¨
import { feedApi } from '@/services/api';

const result = await feedApi.getFeedList('hot', { page: 1, pageSize: 20 });
console.log(result.list);  // FeedItem[]
console.log(result.total);  // æ€»æ•°
console.log(result.hasMore);  // æ˜¯å¦æœ‰æ›´å¤š

// 2. è·å–ç”¨æˆ·æ¨èåˆ—è¡¨ï¼ˆBFFï¼‰
import { bffApi } from '@/services/api';

// è·å–çº¿ä¸Šç”¨æˆ·æ¨è
const onlineUsers = await bffApi.getHomeFeed({
  type: 'online',
  pageNum: 1,
  pageSize: 10
});
console.log(onlineUsers.list);  // BffUserCard[]

// è·å–çº¿ä¸‹ç”¨æˆ·æ¨èï¼ˆå¸¦åŸå¸‚ç­›é€‰ï¼‰
const offlineUsers = await bffApi.getHomeFeed({
  type: 'offline',
  cityCode: '440300'
});

// ä¾¿æ·æ–¹æ³•
const online = await bffApi.getOnlineUsers({ pageNum: 1, pageSize: 10 });
const offline = await bffApi.getOfflineUsers({ cityCode: '440300' });

// 3. è·å–çƒ­é—¨è¯é¢˜ ğŸ†•
const topics = await feedApi.getHotTopics(1, 20);
console.log(topics.records);  // TopicDetail[]

// 4. æœç´¢è¯é¢˜ ğŸ†•
const searchTopics = await feedApi.searchTopics('æ¢åº—', 1, 20);

// 5. ä¸Šä¼ åª’ä½“æ–‡ä»¶ ğŸ†•
import { commonApi } from '@/services/api';

// ä¸Šä¼ å›¾ç‰‡
const imageResult = await commonApi.uploadImage(imageFile, { quality: 0.8 }, (progress) => {
  console.log('ä¸Šä¼ è¿›åº¦:', progress + '%');
});
console.log(imageResult?.mediaId);  // åª’ä½“ID
console.log(imageResult?.url);  // åª’ä½“URL

// ä¸Šä¼ è§†é¢‘
const videoResult = await commonApi.uploadVideo(videoFile, (progress) => {
  console.log('ä¸Šä¼ è¿›åº¦:', progress + '%');
});

// 6. è·å–é™„è¿‘åœ°ç‚¹ ğŸ†•
const nearbyLocations = await commonApi.getNearbyLocations({
  latitude: 22.5189,
  longitude: 113.9577,
  radius: 5
});
console.log(nearbyLocations.list);  // LocationInfo[]

// 7. æœç´¢åœ°ç‚¹ ğŸ†•
const searchLocations = await commonApi.searchLocations({
  keyword: 'æ·±åœ³æ¹¾',
  latitude: 22.5189,
  longitude: 113.9577
});

// 8. ç‚¹èµåŠ¨æ€
const likeResult = await feedApi.like('feed', feedId, 'like');
console.log(likeResult.success);  // true/false
console.log(likeResult.isActive);  // å½“å‰ç‚¹èµçŠ¶æ€
console.log(likeResult.count);  // ç‚¹èµæ•°

// 9. å‘å¸ƒè¯„è®º
const comment = await feedApi.publishComment({
  feedId: '123',
  content: 'å¾ˆæ£’çš„åˆ†äº«ï¼',
});
console.log(comment.id);  // è¯„è®ºID

// 10. å…³æ³¨ç”¨æˆ·
import { relationApi } from '@/services/api';

const followResult = await relationApi.followUser('userId');
console.log(followResult.success);
console.log(followResult.relationStatus);  // 'following' | 'mutual' | 'none'

// 11. åº”ç”¨ç­›é€‰
import { filterApi } from '@/services/api';

const filterResult = await filterApi.applyFilter({
  type: 'online',
  filters: {
    age: { min: 20, max: 30 },
    gender: 'female',
    skills: ['æœ€å¼ºç‹è€…'],
  },
  pageNum: 1,
  pageSize: 20,
});
console.log(filterResult.list);  // UserCardInfo[]

// 12. è·å–é™æ—¶ä¸“äº«åˆ—è¡¨ ğŸ†•
const limitedTimeResult = await bffApi.getLimitedTimeList({
  pageNum: 1,
  pageSize: 10,
  sortBy: 'smart',    // æ™ºèƒ½æ¨è | price_asc | price_desc | distance_asc
  gender: 'all',      // all | male | female
  language: 'æ™®é€šè¯'  // å¯é€‰
});
console.log(limitedTimeResult.list);     // LimitedTimeUserCard[]
console.log(limitedTimeResult.filters);  // ç­›é€‰é…ç½®

// 13. è·å–æœç´¢åˆå§‹æ•°æ® ğŸ†•
const searchInit = await bffApi.getSearchInit();
console.log(searchInit.searchHistory);   // æœç´¢å†å²
console.log(searchInit.hotKeywords);     // çƒ­é—¨æœç´¢

// 14. è·å–æœç´¢å»ºè®® ğŸ†•
const suggestions = await bffApi.getSearchSuggestions('ç‹è€…', 10);
console.log(suggestions.suggestions);    // SearchSuggestion[]

// 15. åˆ é™¤æœç´¢å†å² ğŸ†•
await bffApi.deleteSearchHistory({ keyword: 'ç‹è€…è£è€€' });  // åˆ é™¤å•æ¡
await bffApi.deleteSearchHistory({ clearAll: true });      // æ¸…ç©ºæ‰€æœ‰

// 16. æ‰§è¡Œç»¼åˆæœç´¢ ğŸ†•
const searchResult = await bffApi.executeSearch({
  keyword: 'ç‹è€…',
  type: 'all',
  pageNum: 1,
  pageSize: 10
});
console.log(searchResult.tabs);      // Tabç»Ÿè®¡
console.log(searchResult.results);   // æœç´¢ç»“æœ

// 17. è·å–åˆ†Tabæœç´¢ç»“æœ ğŸ†•
const allResults = await bffApi.getSearchAll('ç‹è€…', 1, 10);
const userResults = await bffApi.getSearchUsers('æ¸¸æˆ', 1, 10);
const orderResults = await bffApi.getSearchOrders('é™ªç»ƒ', 1, 10);
const topicResults = await bffApi.getSearchTopics('æ¸¸æˆ', 1, 10);

// 18. è·å–æ´»åŠ¨åˆ—è¡¨ ğŸ†•
const activityList = await bffApi.getActivityList({
  pageNum: 1,
  pageSize: 10,
  sortBy: 'smart_recommend',  // smart_recommend | newest | distance
  gender: 'all',               // all | male | female
  memberCount: '2-4',          // äººæ•°ç­›é€‰
  activityType: 'billiards',   // æ´»åŠ¨ç±»å‹
});
console.log(activityList.list);     // ActivityListItem[]
console.log(activityList.filters);  // ç­›é€‰é…ç½®

// 19. è·å–æ´»åŠ¨è¯¦æƒ… ğŸ†•
const activityDetail = await bffApi.getActivityDetail(12345);
console.log(activityDetail?.activityId);
console.log(activityDetail?.organizer);
console.log(activityDetail?.participants);
console.log(activityDetail?.canRegister);

// 20. æŠ¥åå‚åŠ æ´»åŠ¨ ğŸ†•
const registerResult = await bffApi.registerActivity({
  activityId: 12345,
  message: 'æˆ‘æƒ³å‚åŠ è¿™ä¸ªæ´»åŠ¨ï¼'
});
console.log(registerResult.success);
console.log(registerResult.status);       // 'pending' | 'approved'
console.log(registerResult.statusMessage);

// 21. å–æ¶ˆæ´»åŠ¨æŠ¥å ğŸ†•
const cancelResult = await bffApi.cancelActivityRegistration({
  activityId: 12345,
  registrationId: 67890
});
console.log(cancelResult.success);
console.log(cancelResult.refundInfo);

// 22. è·å–æœåŠ¡åˆ—è¡¨ ğŸ†•
const serviceList = await bffApi.getServiceList({
  skillType: 'ç‹è€…è£è€€',
  pageNum: 1,
  pageSize: 10,
  tabType: 'glory_king',
  sortBy: 'rating_desc',
  gender: 'female'
});
console.log(serviceList.list);     // ServiceListItem[]
console.log(serviceList.tabs);     // Tabåˆ—è¡¨
console.log(serviceList.filters);  // ç­›é€‰é…ç½®

// 23. è·å–æœåŠ¡è¯¦æƒ… ğŸ†•
const serviceDetail = await bffApi.getServiceDetail({
  serviceId: 1001,
  userId: '123'
});
console.log(serviceDetail?.provider);   // æœåŠ¡æä¾›è€…
console.log(serviceDetail?.skillInfo);  // æŠ€èƒ½ä¿¡æ¯
console.log(serviceDetail?.stats);      // ç»Ÿè®¡ä¿¡æ¯
console.log(serviceDetail?.reviews);    // è¯„ä»·ä¿¡æ¯

// 24. è·å–æœåŠ¡è¯„ä»·åˆ—è¡¨ ğŸ†•
const reviews = await bffApi.getServiceReviews({
  serviceId: 1001,
  pageNum: 1,
  pageSize: 10,
  filterBy: 'excellent'  // all | excellent | good | negative | with_images
});
console.log(reviews.list);     // ServiceReviewItem[]
console.log(reviews.total);    // æ€»æ•°
console.log(reviews.hasNext);  // æ˜¯å¦æœ‰ä¸‹ä¸€é¡µ
```

---

## ä¸‰ã€Gatewayè·¯ç”±é…ç½®

ç¡®ä¿ä»¥ä¸‹è·¯ç”±åœ¨Gatewayä¸­å·²é…ç½®ï¼š

```yaml
spring:
  cloud:
    gateway:
      routes:
        # xypai-content å†…å®¹æœåŠ¡
        - id: xypai-content
          uri: lb://xypai-content
          predicates:
            - Path=/xypai-content/**
          filters:
            - StripPrefix=1

        # xypai-app-bff BFFæœåŠ¡
        - id: xypai-app-bff
          uri: lb://xypai-app-bff
          predicates:
            - Path=/xypai-app-bff/**
          filters:
            - StripPrefix=1

        # xypai-user ç”¨æˆ·æœåŠ¡
        - id: xypai-user
          uri: lb://xypai-user
          predicates:
            - Path=/xypai-user/**
          filters:
            - StripPrefix=1
```

---

## å››ã€æµ‹è¯•æ–‡ä»¶å‚è€ƒ

åç«¯æµ‹è¯•æ–‡ä»¶ä½ç½®ï¼š
- `xypai-modules/xypai-content/src/test/java/org/dromara/content/`
  - `AppContentDiscoveryTest.java` - å†…å®¹å‘ç°æ¨¡å—æµ‹è¯•ï¼ˆFeedæµã€äº’åŠ¨ï¼‰ğŸ†•
- `xypai-aggregation/xypai-app-bff/src/test/java/org/dromara/appbff/`
  - `AppHomeFeedTest.java` - é¦–é¡µç”¨æˆ·æ¨èæµ‹è¯• ğŸ†•
  - `Page02_FilterTest.java` - ç­›é€‰é¡µé¢æµ‹è¯•
  - `Page02_PublishFeedTest.java` - å‘å¸ƒåŠ¨æ€æµ‹è¯•
  - `Page03_FeedDetailTest.java` - åŠ¨æ€è¯¦æƒ…æµ‹è¯•
  - `Page05_LimitedTimeTest.java` - é™æ—¶ä¸“äº«æµ‹è¯• ğŸ†•
  - `Page06_SearchTest.java` - æœç´¢é¡µé¢æµ‹è¯• ğŸ†•
  - `Page07_SearchResultsTest.java` - æœç´¢ç»“æœæµ‹è¯• ğŸ†•
  - `Page08_ActivityListTest.java` - ç»„å±€ä¸­å¿ƒåˆ—è¡¨æµ‹è¯• ğŸ†•
  - `Page09_ActivityDetailTest.java` - ç»„å±€è¯¦æƒ…é¡µé¢æµ‹è¯• ğŸ†•
  - `Page10_PublishActivityTest.java` - å‘å¸ƒç»„å±€æµ‹è¯• ğŸ†•
  - `Page11_ServiceListTest.java` - æœåŠ¡åˆ—è¡¨æµ‹è¯• ğŸ†•
  - `Page12_ServiceDetailTest.java` - æœåŠ¡è¯¦æƒ…æµ‹è¯• ğŸ†•

---

## äº”ã€æ³¨æ„äº‹é¡¹

1. **USE_MOCK_DATA å¼€å…³**: å„APIæœåŠ¡ä¸­æœ‰ `USE_MOCK_DATA` å¸¸é‡ï¼Œè®¾ä¸º `false` ä½¿ç”¨çœŸå®API
2. **è®¤è¯Token**: éœ€è¦ç™»å½•çš„æ¥å£ä¼šè‡ªåŠ¨ä» `authStore` è·å–Tokenå¹¶æ·»åŠ åˆ°è¯·æ±‚å¤´
3. **é”™è¯¯å¤„ç†**: æ‰€æœ‰APIè°ƒç”¨éƒ½æœ‰try-catchåŒ…è£…ï¼Œå¤±è´¥æ—¶è¿”å›ç©ºæ•°æ®æˆ–æŠ›å‡ºé”™è¯¯
4. **ç±»å‹å®‰å…¨**: æ‰€æœ‰APIéƒ½æœ‰TypeScriptç±»å‹å®šä¹‰ï¼Œç¡®ä¿ç±»å‹å®‰å…¨
